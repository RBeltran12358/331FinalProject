---
title: "Data Analysis"
author: "Ricardo Beltran"
date: 2021-06-08T21:13:14-05:01
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
draft: FALSE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```

```{r libraries, echo=FALSE, include=FALSE}
library(tidyverse)
library(lubridate)
```

```{r read_data}

game_data <- read.csv(here:::here("Data", "games_details.csv"), stringsAsFactors = FALSE)

```

# Intro:

This page will take a look at and analyze several metrics from our NBA data set.

# Preprocessing
```{r}

game_data <- game_data %>%
  mutate(
    TEAM_ID = as.factor(TEAM_ID),
    TEAM_ABBREVIATION = as.factor(TEAM_ABBREVIATION),
    TEAM_CITY = as.factor(TEAM_CITY),
    PLAYER_ID = as.factor(PLAYER_ID),
    START_POSITION = case_when(
      (START_POSITION == "C" |
      START_POSITION == "F" |
      START_POSITION == "G") ~ START_POSITION,
      TRUE ~ "Didn't Start"
    ), 
    STARTER_STATUS = case_when(
      (START_POSITION == "C" |
      START_POSITION == "F" |
      START_POSITION == "G") ~ "STARTER",
      TRUE ~ "NON-STARTER"
    ),
    STARTER_STATUS = as.factor(STARTER_STATUS),
    START_POSITION = as.factor(START_POSITION)
  )
    


```

# What's in a Name?

For our early analysis, I'm interested to see if there are any common names among the players in the data set.

```{r}

names <- game_data %>%
  group_by(PLAYER_NAME) %>%
  summarise(junk = 1) %>%
  select(PLAYER_NAME) %>%
  pull() %>% 
  str_split(" ") %>%
  unlist()

names <- names[names != "Jr." & names != "jr."]
  
as.data.frame(table(names)) %>%
  top_n(10, Freq)

# This included some ties for those with a freq of 2
```
Here we found the 10 most common names from among the NBA players in the data set. It appears that names like Johnson, Chris and Williams were the most popular. 

Fun Fact: There have been multiple ALL-STARS and even HALL OF FAMERS with those names.


## Starters vs Non-Starters

In the game of basketball, while it's not always the case, the best players usually start the game, hence their title of starters. I'm interested to see just how much of a performance gap there is between these two groups.

```{r}

```

grouped_Seeds <- cereals %>%
  group_by(Seed_Type) %>%
  summarise(meanRating = mean(rating))

ggplot(grouped_Seeds, aes(x=Seed_Type, y=meanRating)) + 
  geom_bar(stat = "identity") +
  xlab("Seed Type") + 
  ylab("Average Rating") + 
  ggtitle("Mean Rating for Different Seed Types")
# Including Plots

You can also embed plots. See Figure \@ref(fig:pie) for example:



```{r pie, fig.cap='A fancy pie chart.', tidy=FALSE}
par(mar = c(0, 1, 0, 1))
pie(
  c(280, 60, 20),
  c('Sky', 'Sunny side of pyramid', 'Shady side of pyramid'),
  col = c('#0292D8', '#F7EA39', '#C4B632'),
  init.angle = -50, border = NA
)
```


```

```{r echo=FALSE}
library(ggplot2)
ggplot(Orange, aes(x = age, 
                   y = circumference, 
                   color = Tree)) +
  geom_point() +
  geom_line() +
  guides(color = FALSE) +
  theme_bw()
```
